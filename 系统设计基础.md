[🎉 面试进阶专栏限时优惠](https://xiaozhuanlan.com/CyC2018)
<!-- GFM-TOC -->
* [一、性能](#一性能)
* [二、伸缩性](#二伸缩性)
* [三、扩展性](#三扩展性)
* [四、可用性](#四可用性)
* [五、安全性](#五安全性)
* [参考资料](#参考资料)
<!-- GFM-TOC -->


# 一、性能

## 性能指标

1. 响应时间：收到响应时间-发出请求时间。通常采用重复请求方式计算平均响应时间。

2. 吞吐量：单位时间内可以处理的请求数量

3. 并发用户数：系统能同时处理的并发请求数
   * 没有并发的系统：请求被顺序执行，响应时间 = 1/吞吐量;
   * 多线程能够提高吞吐量、缩短响应时间：多CPU、缩短I/O等待时间
   * 并发用户数不是越高越好：如果系统来不及处理，就会增大响应时间
   * IO 多路复用：一个I/O操作时，系统可以转而处理其他I/O请求，提高CPU效率





## 性能优化

1. 集群：将多台服务器组成集群，使用负载均衡将请求转发到集群中，避免单一服务器的负载压力过大导致性能降低。

2. 缓存：缓存能提高性能的原因：
   * 缓存数据位于内存，读写速度快；
   * 缓存数据位于靠近用户的地理位置上；
   * 缓存中间结果，避免重复计算；

3. 异步：某些流程可以将操作转换为消息，将消息发送到消息队列之后立即返回，之后这个操作会被异步处理。

   

# 二、伸缩性

伸缩性：不断向集群中添加服务器，缓解不断上升的用户并发访问压力和不断增长的数据存储需求。

## 伸缩性与性能

如果系统存在性能问题，那么单个用户的请求总是很慢的；

如果系统存在伸缩性问题，那么单个用户的请求可能会很快，但是在并发数很高的情况下系统会很慢。

## 实现伸缩性

只要应用服务器不具有状态，就能通过负载均衡器向集群中添加服务器以实现伸缩性。

关系型数据库：通过 Sharding 实现，将数据按一定规则分布到不同的节点上，解决单台服务器的存储空间不足。

非关系型数据库：它们天生就是为海量数据而诞生，对伸缩性的支持特别好。



# 三、扩展性

扩展性：添加新功能时对系统的其它应用无影响，要求不同应用耦合性低

实现可扩展性：

- 使用消息队列解耦，应用之间通过消息传递进行通信；
- 使用分布式服务将业务和可复用的服务分离开来，业务使用分布式服务框架调用可复用的服务。新增的产品可以通过调用可复用的服务来实现业务逻辑，对其它产品没有影响。



# 四、可用性

## 冗余

1. 冗余：冗余是保证高可用性的主要手段，当某个服务器故障时就请求其它服务器。
   * 应用服务器的冗余实现：只要保证应用服务器不具有状态，当某个应用服务器故障时，负载均衡器将该应用服务器原先用户的请求转发到另一个应用服务器上，不会对用户有任何影响。
   * 存储服务器的冗余实现：切换——当主服务器故障时，提升从服务器为主服务器。

2. 监控：对 CPU、内存、磁盘、网络等系统负载信息进行监控，当信息达到某阈值时通知相关人员，在系统故障前及时发现问题。

3. 服务降级：系统为了应对大量请求，主动关闭部分功能，从而保证核心功能可用。



# 五、安全性

安全性：系统遭受攻击时能有方法应对。